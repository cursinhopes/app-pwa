
<!DOCTYPE html>
<html lang="pt-BR" id="html">
  <head>
    <title>Cursinho PES</title>
    <meta name="keywords" content="Cursinho PES; UFSC; Curso pré-vestibular; Projeto Educação Solidária; Araranguá">
    <meta name="description" content="Aplicativo do Cursinho PES.">
    <meta name="robots" content="index, follow">
    <meta name="copyright" content="2025 Cursinho PES ©">
    <meta name="author" content="Roger Eliodoro Condras">
    <meta name="creator" content="Roger Eliodoro Condras">
    <meta name="publisher" content="Roger Eliodoro Condras">
    <meta name="rating" content="general">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Icone guia navegador -->
    <meta name="theme-color" content="#681323">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">
    <link rel="icon" type="image/png" href="/assets/icons/icon-192.png">
    <!-- Folhas de estilo CSS -->
    <link rel="manifest" href="manifest.json">
    <link rel="preload" href="/assets/font/MaterialSymbolsOutlined.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/font/bootstrap-icons.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/font/Merriweather.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/css/libs/bootstrap.min.css" as="style">
    <link rel="stylesheet" href="/assets/css/libs/bootstrap.min.css">
    <link rel="preload" href="/assets/css/main.css" as="style">
    <link rel="stylesheet" href="/assets/css/main.css">
    <script src="/assets/js/libs/bootstrap.bundle.min.js" defer></script>
    <script src="/assets/js/libs/jquery.min.js" defer></script>
    <script src="/assets/js/libs/jquery.mobile.custom.min.js" defer></script>
    <script src="/assets/js/libs/html5-qrcode.min.js" defer></script>
    <script src="/assets/js/main.js" defer></script>
  </head>
  <body>
    <div id="splash-screen" class="h-100 bg-drawn d-flex flex-column justify-content-center align-items-center">
      <div class="maxw-600 text-center">
        <img src="/assets/img/logo-pes-circular.png" alt="Logo PES" width="60%">
      </div>
    </div>
    <div id="install-screen" class="d-none h-100 bg-drawn d-flex flex-column justify-content-center align-items-center">
      <div class="px-4">
        <div class="card maxw-500 w-100">
        <div class="card-body text-center">
          <img src="/assets/img/logo-pes-circular.png" alt="Logo PES" class="w-75">
          <h1 class="fw-bold"><span class="material-symbols-outlined">warning</span> AVISO <span class="material-symbols-outlined">warning</span></h1>
          <p class="my-3">Para uma melhor experiência de uso, você deve realizar a instalação do aplicativo no seu dispositivo.</p>
          <button class="btn btn-secondary-pes my-3" id="btn-install-app"><span class="material-symbols-outlined">apk_install</span> Instale o aplicativo</button>
          <p id="ios-install-instructions" class="d-none">Toque no botão <strong>Compartilhar</strong> <span class="material-symbols-outlined">ios_share</span> e depois em <strong>Adicionar à Tela de Início</strong></p>
        </div>
      </div>
      </div>
    </div>
    <div id="login-screen" class="d-none h-100 bg-drawn d-flex flex-column justify-content-center align-items-center px-4">
      <div class="card maxw-900">
        <div class="card-body">
          <div class="row row-cols-1 row-cols-sm-2 align-items-stretch g-0">
            <div class="col d-flex justify-content-center align-items-center">
              <img src="/assets/img/logo-pes-circular.png" alt="Logo PES" class="w-75"> 
            </div>
            <div class="col d-flex align-items-center">
              <form action="" class="w-100">
                <h4 class="card-title mb-2 w-100 text-center">Seja bem-vindo!</h4>
                <h6 class="card-subtitle mb-3 text-muted w-100 text-center">Realize o login para continuar</h6>
                <div class="row mb-3">
                  <div class="col-12">
                    <label for="user"><b>Usuário:</b></label>
                    <input type="text" class="form-control" name="user" id="user" placeholder="CPF, e-mail ou matrícula PES" required>
                    <label for="user" class="invalid-feedback">Usuário não encontrado!</label>
                  </div>
                </div>
                <div class="row mb-1">
                  <div class="col-12">
                    <label for="password"><b>Senha:</b></label>
                    <div class="input-group">
                      <input type="password" class="form-control" name="password" id="password" placeholder="Sua senha" required>
                      <button class="input-group-text" id="btn-password-visibility" aria-label="Mostrar senha" title="Mostrar senha"><span class="material-symbols-outlined" role="img" aria-hidden="true">visibility</span></button>
                      <label for="password" class="invalid-feedback">Senha incorreta!</label>
                    </div>
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col text-end">
                    <a href="https://pes.ufsc.br/recuperar-senha" target="_blank"><small>Esqueceu a senha ou primeiro acesso?</small></a>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="col-auto">
                    <button class="btn btn-secondary-pes w-100" id="btn-submit"><b>Entrar</b> <span class="material-symbols-outlined">login</span></button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <main id="app" class="d-none h-100 position-relative">
      <section id="home-screen" class="h-100 d-flex flex-column justify-content-center align-items-center bg-light">
        <div class="text-center p-4">
          <img src="/assets/img/logo-pes-circular.png" alt="Logo PES" class="w-75">
          <h1>Controle de Acesso</h1>
          <h2 class="mt-0">Aulões Cursinho PES</h2>

          <!-- Container com os dois botões -->
          <div class="btn-container w-100 justify-content-center">
              <button class="btn btn-lg btn-success w-100 py-4 shadow btn-start-scan" value="in">
            <span id="btnEntrada" class="material-symbols-outlined fs-1 d-block mb-2">qr_code_scanner</span>
            Registrar Entrada
          </button>
          <button id="btnSaida" class="btn btn-lg btn-danger w-100 py-4 shadow btn-start-scan" value="out">
            <span class="material-symbols-outlined fs-1 d-block mb-2">qr_code_scanner</span>
            Registrar Saída
          </button>
          </div>
          
          <!-- Elemento para exibir o resultado -->
          <p id="result" class="w-100">Aguardando leitura...</p>

          <!-- Indicador de carregamento -->
          <div id="loading"></div>
          
        </div>
      </section>

      <section id="scan-screen" class="d-none position-absolute top-0 start-0 w-100 h-100 bg-black">
        
        <div id="reader" class="w-100 h-100" style="object-fit: cover;"></div>

        <button id="btn-close-scan" class="btn btn-light position-absolute top-0 end-0 m-3 rounded-circle p-2 shadow" style="z-index: 10;">
          <span class="material-symbols-outlined">close</span>
        </button>

        <div class="position-absolute bottom-0 start-0 w-100 p-4 d-flex justify-content-center" style="z-index: 10; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);">
          <button id="btn-switch-cam" class="btn btn-outline-light rounded-pill px-4 py-2 d-flex align-items-center gap-2">
            <span class="material-symbols-outlined">cameraswitch</span> Trocar Câmera
          </button>
        </div>

      </section>
    </main>
  </body>
</html>